<%
user = typeof user !== "undefined" ? user :  {};
item = typeof item !== "undefined" ? item : {};

// Create our number formatter.
var formatEur = new Intl.NumberFormat(undefined, {
    style: 'currency',
    currency: 'EUR',

    // These options are needed to round to whole numbers if that's what you want.
    //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)
    //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)
});
%>

<div id="mySidebar" class="sidebar">
    <a href="#">Sport courts</a>
    <a href="#">Vehicles</a>
    <a href="#">Items</a>
    <a href="#">Services</a>
</div>

<div id="main">
    <div class="content mt-2">
            <div class="row px-2">
                <div class="col">
                    <%- include('../partials/messages'); %>
                </div>
            </div>

        <div class="row p-4">
            <div class="col-content">
                <div class="">
                    <img src="/uploads/<%= item.image %>" alt="profile picture" width="200px">
                </div>
            </div>
            <div class="col pl-4 pr-0" style="position:relative;">
                <div class="" style="position:absolute;bottom:0;">
                    <h4><%= item.title %></h4>
                    <div class="row">
                        <div class="col-12">
                            <span class="text-secondary"><%= item.shortDesc %></span>
                        </div>
                    </div>
                    <div class="row my-3">
                        <div class="col-12">
                            <span class="text-secondary"><%= item.longDesc %></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12 col-md-auto">
                            <i class="fas fa-envelope mr-2"></i>
                            <span class="text-secondary"><%= user.email %></span>
                        </div>
                        <div class="col-12 col-md-auto">
                            <i class="fas fa-phone mr-2"></i>
                            <span class="text-secondary"><%= user.phone %></span>
                        </div>
                        <div class="col-12 col-md-auto">
                            <i class="fas fa-map-marker-alt"></i>
                            <span style="margin-left:4px;" class="text-secondary"><%= `${user.address}, ${user.postalCode} ${user.city}` %></span>
                        </div>
                        <div class="col-12 col-md-auto">
                            <i class="fas fa-euro-sign mr-2"></i>
                            <span class="text-secondary"><%= `${formatEur.format(item.price)}/${item.pricePer}` %></span>
                        </div>
                    </div>
                </div>
            </div>

        </div>

<!--        calendar-->
        <form action="/explore/<%= item._id %>/reserve" method="post">
            <input
                    type="text"
                    id="name"
                    name="name"
                    class="form-control"
                    placeholder="Enter Name"
            />

            <button type="submit" class="btn btn-primary btn-sm">
                Reserve
            </button>
        </form>


    </div>
</div>