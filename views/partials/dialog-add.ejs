<%
user = typeof user !== "undefined" ? user :  {};
item = typeof item !== "undefined" ? item :  {};
%>
<script>
    $(document).ready(function(){

        function previewProfileImage( uploader ) {
            console.log('Uploader ----> ',uploader);
            console.log('Uploader ----> ',uploader.files);
            //ensure a file was selected
            if( uploader.files && uploader.files[0] ){
                $('#itemImage2').attr('src', window.URL.createObjectURL(uploader.files[0]) );
            }
        }

        // jQuery methods go here...
        $("#itemImageBtn").click(function(e) {
            $("#imageUpload").click();
        });

        $("#imageUpload").change(function(){
            previewProfileImage( this );
        });
    });
</script>
<!-- The Modal -->
<div id="add-dialog" class="dialog">
    <div class="helper1">
        <div class="helper2">

            <!-- Modal content -->
            <div class="dialog-content">
                <span class="close"><i data-feather="x"></i></span>
                <form action="/explore/add" enctype="multipart/form-data"  method="POST">
                    <!--        <input type="hidden" name="_method" value="PUT">-->
                    <div class="row p-4">
                        <div class="col-content">
                            <div style="position: relative;">
                                <img id="itemImage2" src="/uploads/defaultItem.png" alt="item image" width="200px" style="position: relative;">
                                <div class="change-pic-button cursor-pointer">
                                    <span id="itemImageBtn">Change image</span>
                                    <input id="imageUpload" name="itemPicture" type="file" style="display: none;">
                                </div>
                            </div>
                        </div>

                        <div class="col">

                            <!-- Title, short desc-->
                            <div class="row">
                                <div class="col-12">
                                    <div class="form-group">
                                        <label for="title">Title</label>
                                        <input
                                                type="text"
                                                id="title"
                                                name="title"
                                                class="form-control"
                                                placeholder="Enter Title"
                                                value="<%= typeof item.title != 'undefined' ? item.title : '' %>"
                                        />
                                    </div>
                                </div>
                                <div class="col-12">
                                    <div class="form-group">
                                        <label for="shortDesc">Short description</label>
                                        <input
                                                type="text"
                                                id="shortDesc"
                                                name="shortDesc"
                                                class="form-control"
                                                placeholder="Enter short description"
                                                value="<%= typeof item.shortDesc != 'undefined' ? item.shortDesc : '' %>"
                                        >
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <hr class="m-0">

                    <div class="row p-4">
                        <div class="col p-0">
                            <!-- Long desc -->
                            <div class="row">
                                <div class="col-12">
                                    <div class="form-group">
                                        <label for="longDesc">Description</label>
                                        <textarea
                                                type="text"
                                                id="longDesc"
                                                name="longDesc"
                                                class="form-control"
                                                placeholder="Enter description"
                                                value="<%= typeof item.longDesc != 'undefined' ? item.longDesc : '' %>"
                                                rows="7"
                                        ></textarea>
                                    </div>
                                </div>

                            </div>

                            <!-- Prices -->
                            <div class="row">
                                <div class="col-12 col-md-6">
                                    <div class="form-group">
                                        <label for="price">Price (â‚¬)</label>
                                        <input
                                                type="number"
                                                id="price"
                                                name="price"
                                                class="form-control"
                                                placeholder="Enter price"
                                                value="<%= typeof item.price != 'undefined' ? item.price : '' %>"
                                                min="0"
                                        />
                                    </div>
                                </div>
                                <div class="col-12 col-md-6">
                                    <div class="form-group">
                                        <label for="pricePer">Price per</label>
                                        <select class="custom-select form-control" id="pricePer" name="pricePer">
                                            <option selected value="h">hour</option>
                                            <option value="d">day</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <!-- Address-->
                            <div class="row">
                                <div class="col-12">
                                    <div class="form-group">
                                        <label for="address">Address</label>
                                        <input
                                                type="text"
                                                id="address"
                                                name="address"
                                                class="form-control"
                                                placeholder="Enter address"
                                                value="<%= typeof item.address != 'undefined' ? item.address : '' %>"
                                        />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col text-right">
                            <span class="close2 btn btn-outline-danger btn-sm">Cancel</span>
                            <button type="submit" class="btn btn-primary btn-sm">
                                Add
                            </button>
                        </div>
                    </div>

                </form>
            </div>

        </div>
    </div>
</div>